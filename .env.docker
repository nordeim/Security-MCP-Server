# =============================================================================
# Docker Environment Configuration
# =============================================================================
# Docker-specific environment variables for the MCP Server stack
# Copy to .env and modify as needed
# =============================================================================

# -----------------------------------------------------------------------------
# Version Tags
# -----------------------------------------------------------------------------
MCP_VERSION=latest
PROMETHEUS_VERSION=v2.45.0
GRAFANA_VERSION=10.0.0
NODE_EXPORTER_VERSION=v1.6.0
CADVISOR_VERSION=v0.47.0
PYTHON_VERSION=3.11

# -----------------------------------------------------------------------------
# Network Configuration
# -----------------------------------------------------------------------------
# External ports (host:container)
MCP_SERVER_PORT=8080
MCP_METRICS_PORT=9090
PROMETHEUS_PORT=9091
GRAFANA_PORT=3000

# -----------------------------------------------------------------------------
# Resource Limits
# -----------------------------------------------------------------------------
# MCP Server resources
MCP_CPU_LIMIT=2.0
MCP_MEMORY_LIMIT=1G
MCP_CPU_RESERVATION=0.5
MCP_MEMORY_RESERVATION=256M

# -----------------------------------------------------------------------------
# MCP Server Configuration
# -----------------------------------------------------------------------------
# Transport mode
MCP_SERVER_TRANSPORT=http

# Tool configuration
TOOLS_PACKAGE=mcp_server.tools
TOOL_INCLUDE=
TOOL_EXCLUDE=

# Security limits
MCP_MAX_ARGS_LEN=2048
MCP_MAX_STDOUT_BYTES=1048576
MCP_MAX_STDERR_BYTES=262144
MCP_DEFAULT_TIMEOUT_SEC=300
MCP_DEFAULT_CONCURRENCY=2

# -----------------------------------------------------------------------------
# Circuit Breaker Configuration
# -----------------------------------------------------------------------------
MCP_CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
MCP_CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60
MCP_CIRCUIT_BREAKER_HALF_OPEN_SUCCESS_THRESHOLD=1

# -----------------------------------------------------------------------------
# Health Check Configuration
# -----------------------------------------------------------------------------
MCP_HEALTH_CHECK_INTERVAL=30
MCP_HEALTH_CPU_THRESHOLD=80
MCP_HEALTH_MEMORY_THRESHOLD=80
MCP_HEALTH_DISK_THRESHOLD=80
MCP_HEALTH_TIMEOUT=10

# -----------------------------------------------------------------------------
# Metrics Configuration
# -----------------------------------------------------------------------------
MCP_METRICS_ENABLED=true
MCP_METRICS_PROMETHEUS_ENABLED=true
MCP_METRICS_COLLECTION_INTERVAL=15

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s %(levelname)s %(name)s %(message)s

# -----------------------------------------------------------------------------
# Grafana Configuration
# -----------------------------------------------------------------------------
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=changeme
GRAFANA_ROOT_URL=http://localhost:3000
GRAFANA_PLUGINS=

# -----------------------------------------------------------------------------
# Volume Paths (for bind mounts if needed)
# -----------------------------------------------------------------------------
# Uncomment to use host paths instead of Docker volumes
# MCP_CONFIG_PATH=./config
# MCP_LOGS_PATH=./logs
# MCP_DATA_PATH=./data
# PROMETHEUS_DATA_PATH=./prometheus-data
# GRAFANA_DATA_PATH=./grafana-data

# -----------------------------------------------------------------------------
# Development Mode
# -----------------------------------------------------------------------------
# Set to true for development features
DEVELOPMENT_MODE=false
DEBUG=false

# -----------------------------------------------------------------------------
# Backup Configuration
# -----------------------------------------------------------------------------
BACKUP_ENABLED=true
BACKUP_INTERVAL=86400
BACKUP_RETENTION_DAYS=7
BACKUP_PATH=/backups

# -----------------------------------------------------------------------------
# TLS/SSL Configuration (Optional)
# -----------------------------------------------------------------------------
# TLS_ENABLED=false
# TLS_CERT_PATH=/certs/server.crt
# TLS_KEY_PATH=/certs/server.key
# TLS_CA_PATH=/certs/ca.crt

# -----------------------------------------------------------------------------
# Database Configuration (Optional)
# -----------------------------------------------------------------------------
# MCP_DATABASE_URL=postgresql://mcp:password@postgres:5432/mcp_db
# MCP_DATABASE_POOL_SIZE=10
# MCP_DATABASE_MAX_OVERFLOW=20

# -----------------------------------------------------------------------------
# Registry Configuration (for private registries)
# -----------------------------------------------------------------------------
# DOCKER_REGISTRY=docker.io
# DOCKER_REGISTRY_USER=
# DOCKER_REGISTRY_PASSWORD=

# -----------------------------------------------------------------------------
# Compose Project Name
# -----------------------------------------------------------------------------
COMPOSE_PROJECT_NAME=mcp-server
